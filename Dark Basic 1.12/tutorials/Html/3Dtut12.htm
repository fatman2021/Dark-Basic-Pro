<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Generator" content="Microsoft Word 97">
   <meta name="GENERATOR" content="Microsoft FrontPage 4.0">
   <title>3Dtut1</title>
</head>
<body text="#FFFFFF" link="#FFFF00" vlink="#00FF00" background="dbback.gif" BGPROPERTIES="FIXED">
<font face="Arial,Helvetica"><font color="#FFFF00"><font size=+3>3D
Tutorials: 3. The Game</font></font></font>
<br><font face="Arial,Helvetica"><font color="#FFFF00"><font size=+2>1.
Loading objects</font></font></font>
<p><font face="Arial,Helvetica"><font color="#FFFF00"><font size=+1>Purpose:
To introduce the loading of objects into a 3D world and build a foundation
program for a game.</font></font></font>
<p><font face="Arial,Helvetica"><font size=+1>There are many different
applications you can find that allow you to create and save 3D models.
DarkBASIC can use the DirectX "X" format as well as the 3DStudio "3DS"
format. By using these models you can create very rich and realistic environments,
beyond what you can create with the standard primitives in DarkBASIC.</font></font>
<p><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Sync
On</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Sync
Rate 30</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Hide
Mouse</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>autocam
off</font></font></font>
<br>&nbsp;
<p><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Backdrop
on</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Set
camera range 1,5000</font></font></font>
<p><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Fog
on</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Fog
distance 4000</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Fog
color RGB(128,128,128)</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Color
Backdrop RGB(128,128,128)</font></font></font>
<p><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Rem
make matrix</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Make
matrix 1,10000,10000,20,20</font></font></font>
<p><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Rem
texture matrix</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Load
image "grass09.bmp",1</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Prepare
matrix texture 1,1,1,1</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Fill
matrix 1,0,1</font></font></font>
<p><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>rem
Randomize the matrix</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>randomize
matrix 1,125</font></font></font>
<p><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>rem
Load object</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Load
object "idle.x",2</font></font></font>
<p><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>position
object 2,5000,Get Ground Height(1,5000,5500),5500</font></font></font>
<p><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Rem
Main loop</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Do</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>set
cursor 0,0</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>print
X#</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>print
Y#</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>print
Z#</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;Rem&nbsp;
Store Object angle</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;CameraAngleY#
= Camera angle Y()</font></font></font>
<p><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;Rem&nbsp;
Control input for camera</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;If
Upkey()=1</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;
XTest# = Newxvalue(X#,CameraAngleY#,20)</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;
ZTest# = Newzvalue(Z#,CameraAngleY#,20)</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;
If XTest#>0 and XTest#&lt;10000 and ZTest#>0 and ZTest#&lt;10000</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;&nbsp;
Move camera 10</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;
Endif</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;Endif</font></font></font>
<p><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;If
Leftkey()=1 then Yrotate Camera Wrapvalue(CameraAngleY#-5)</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;If
Rightkey()=1 then Yrotate Camera Wrapvalue(CameraAngleY#+5)</font></font></font>
<p><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;X#
= Camera position X()</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;&nbsp;
Z# = Camera position Z()</font></font></font>
<p><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;Y#
= Get ground height(1,X#,Z#)</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;Position
Camera X#,Y#+35,Z#</font></font></font>
<p><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;Rem
Refresh Screen</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;Sync</font></font></font>
<br><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>Loop</font></font></font>
<br>&nbsp;
<p><font face="Arial,Helvetica"><font size=+1>Before we explain the object
commands, we will introduce a few useful commands</font></font>
<p><font size=+1>&nbsp; Hide
Mouse</font>
<p><font face="Arial,Helvetica"><font size=+1>The "Hide mouse" instructs
DarkBASIC to hide the mouse cursor. In most cases you won't need a mouse
in a 3D environment.</font></font>
<p><font face="Courier New,Courier"><font color="#FFFF00"><font size=+1>&nbsp;
autocam off</font></font></font>
<p><font face="Arial,Helvetica"><font size=+1>The "Autocam Off" command
turns off the auto camera. When this is set to on, everytime you create
a new object in DarkBASIC, the camera will move to show that object. If
you are loading many objects the camera will show them all as they are
loading. Turning this command off has a different effect when loading a
matrix. When the command is off the camera is positioned in the center
of the matrix you have created. When the command is on the camera will
be placed at the coordinate (0,0,0), in your 3D world.</font></font>
<p><font size=+1>&nbsp; Load object "idle.x",2</font>
<p><font face="Arial,Helvetica"><font size=+1>The "Load Object" command
is the key command for loading an object into DarkBASIC. The first parameter
in this command is the file name of the object you wish to load into your
3D world. To be recognized by the command, the file name must be enclosed
in quotation marks. The second parameter in the command is the number you
wish to assign to the object. This command is very similar to the "Make
Object" commands. All of the object commands introduced in earlier tutorials
will work with loaded objects the same way they work with created objects.</font></font>
<p><font size=+1>&nbsp; Loop
object 2</font>
<p><font face="Arial,Helvetica"><font size=+1>The "Loop Object" command
will loop the animation of an object you load into DarkBASIC. If your object
contains no animation data, use of this command may cause an error to occur.
When you create an object in a modeling program, you must be careful to
animate the model in such a way that the animation can loop smoothly or
you will see a jerking motion when the model leaves the last frame of the
animation and initializes the first frame of the animation.</font></font>
<br>&nbsp;
<br>&nbsp;
</body>
</html>
